(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))c(n);new MutationObserver(n=>{for(const o of n)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&c(s)}).observe(document,{childList:!0,subtree:!0});function r(n){const o={};return n.integrity&&(o.integrity=n.integrity),n.referrerPolicy&&(o.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?o.credentials="include":n.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function c(n){if(n.ep)return;n.ep=!0;const o=r(n);fetch(n.href,o)}})();function a(t){f(t);for(let e=1;e<7;e++){const c=t.insertRow().insertCell(),n=document.createElement("span");n.textContent=`${e} черга`,c.appendChild(n),c.classList.add("queue-cell")}}function u(){const t=document.querySelector("#blackouts-order-table");for(let e=1;e<7;e++){const r=t.rows[e];d(r,i,e)}}function d(t,e,r){e.forEach(c=>{let n=t.children[e.indexOf(c)+1];n||(n=t.insertCell());const o=c.includes(r.toString());n.style.background=o?"salmon":"lightgray"})}function f(t){const e=t.insertRow();e.insertCell();for(let r=1;r<=24;r++){const c=e.insertCell();let n=`${r-1}:00 - `.padStart(8,"0");n+=`${r}:00`.padStart(5,"0");const o=document.createElement("span");o.textContent=n,c.appendChild(o)}}let i=[],l=[];function p(t){m(t).then(e=>g(e)).then(()=>h()).then(()=>y())}function m(t){return new Promise(e=>{const r=new FileReader;r.onload=function(c){e(c.target.result)},r.readAsText(t)})}function h(){i.length!==0&&(i=[]),l.forEach(t=>{i.push(t.match(/\b\d\b/g))}),console.log(i)}function g(t){l.length!==0&&(l=[]),t.split(`
`).forEach(r=>{l.push(r)})}function y(){if(document.querySelector("#create-table"))return;const t=document.createElement("button");t.textContent="Create Table",t.addEventListener("click",()=>{u()}),t.id="create-table",document.querySelector("#app").appendChild(t)}async function b(){}document.getElementById("fileInput").addEventListener("input",function(t){const e=t.target.files[0];e&&p(e)});document.getElementById("load-from-tg-channel").addEventListener("click",b);a(document.getElementById("blackouts-order-table"));
